<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VSC MEMBERSHIP FORM</title>

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>VSC MEMBERSHIP FORM</h2>
  <h3>MADE BY NOOBGAMING</h3>
  
  <div id="customAlert">
  <div class="alertBox">
    <h3>Form Submitted!</h3>
    <button onclick="closeCustomAlert()">OK</button>
  </div>
</div>

  <form id="clubForm">
    <label for="fullname">Your Name:</label>
    <input type="text" id="fullname" required />

    <label>Your Age:</label>
    <div class="dropdown" data-name="age">
      <div class="selected">Select Age <span class="arrow">â–¼</span></div>
      <div class="options">
        <div class="option">Under 13</div>
        <div class="option">13â€“16</div>
        <div class="option">17â€“24</div>
        <div class="option">25â€“34</div>
        <div class="option">35+</div>
      </div>
    </div>

    <label>Gender:</label>
    <div class="dropdown" data-name="gender">
      <div class="selected">Select Gender <span class="arrow">â–¼</span></div>
      <div class="options">
        <div class="option">Male</div>
        <div class="option">Female</div>
      </div>
    </div>

    <label for="clubName">Previous Club:</label>
    <input type="text" id="clubName" required>

    <label>CPM Experience:</label>
    <div class="dropdown" data-name="cpmExperience">
      <div class="selected">Select Experience <span class="arrow">â–¼</span></div>
      <div class="options">
        <div class="option">Under 1 Month</div>
        <div class="option">1â€“5 months</div>
        <div class="option">6â€“10 months</div>
        <div class="option">11â€“12 months</div>
        <div class="option">1â€“3 years</div>
      </div>
    </div>

    <label for="gameId">Game ID:</label>
    <input type="text" id="gameId" required>

    <label for="inGameName">Name In Game:</label>
    <input type="text" id="inGameName" required>

    <label>Preferred Role:</label>
    <div class="dropdown" data-name="clubRole">
      <div class="selected">Select Role <span class="arrow">â–¼</span></div>
      <div class="options">
        <div class="option">Event Organizer</div>
        <div class="option">Builder</div>
        <div class="option">Recruiter</div>
        <div class="option">Video Grapher/Editor</div>
        <div class="option">PhotoGrapher</div>
        <div class="option">Tuner</div>
        <div class="option">GG/Termux User</div>
        <div class="option">Content Creator</div>
      </div>
    </div>

    <label for="whyJoin">Why do you want to join?</label>
    <textarea id="whyJoin" required></textarea>

    <label for="image">Upload valid id:</label>
    <input type="file" id="image" accept="image/*" required />

    <button type="submit">Submit</button>
  </form>

  <div id="output"></div>
  <div id="toast">Please wait until it says "Form Submitted"</div>
  <audio id="toastSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_912fa5ce62.mp3?filename=click-ui-2-146881.mp3" preload="auto"></audio>

  <script>
    const botToken = "8563730312:AAHaCyH6vT8dF28MS3_lE89ELixoAPXy1r0";
    const chatIds = ["6036231567", "6784382795"];

    document.querySelectorAll(".dropdown").forEach(drop => {
      const selected = drop.querySelector(".selected");
      const options = drop.querySelector(".options");
      selected.addEventListener("click", () => drop.classList.toggle("open"));
      options.querySelectorAll(".option").forEach(opt => {
        opt.addEventListener("click", () => {
          selected.innerHTML = opt.textContent + ' <span class="arrow">â–¼</span>';
          drop.setAttribute("data-value", opt.textContent);
          drop.classList.remove("open");
        });
      });
    });
    
    function showCustomAlert() {
  document.getElementById("customAlert").style.display = "flex";
}

function closeCustomAlert() {
  document.getElementById("customAlert").style.display = "none";
}

    function showToast(msg) {
      const toast = document.getElementById("toast");
      const sound = document.getElementById("toastSound");
      toast.textContent = msg;
      toast.style.display = "block";
      sound.play();
      setTimeout(() => toast.style.display = "none", 4000);
    }

    document.getElementById("clubForm").addEventListener("submit", async e => {
      e.preventDefault();
      showToast("Sending to Telegram...");

      const getVal = name => document.querySelector(`.dropdown[data-name="${name}"]`)?.getAttribute("data-value") || "";
      const name = document.getElementById("fullname").value;
      const age = getVal("age");
      const gender = getVal("gender");
      const club = document.getElementById("clubName").value;
      const xp = getVal("cpmExperience");
      const gameId = document.getElementById("gameId").value;
      const ign = document.getElementById("inGameName").value;
      const role = getVal("clubRole");
      const reason = document.getElementById("whyJoin").value;
      const file = document.getElementById("image").files[0];

      const msg =
`â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ðŸ“ VSC Membership Form
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘âžª Name: ${name}
â•‘âžª Age: ${age}
â•‘âžª Gender: ${gender}
â•‘âžª Previous Club: ${club}
â•‘âžª CPM Experience: ${xp}
â•‘âžª Game ID: ${gameId}
â•‘âžª IGN: ${ign}
â•‘âžª Preferred Role: ${role}
â•‘âžª Reason: ${reason}
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;

      document.getElementById("output").textContent = msg;

      const requests = chatIds.map(async id => {
        if (file) {
          const formData = new FormData();
          formData.append("chat_id", id);
          formData.append("photo", file);
          await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
            method: "POST",
            body: formData
          });
        }
        return fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ chat_id: id, text: msg })
        });
      });

      await Promise.all(requests);
      showCustomAlert();
      document.getElementById("clubForm").reset();
    });
  </script>
</body>
</html>



